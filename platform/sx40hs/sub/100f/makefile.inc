
#override OPT_EXMEM_MALLOC=1
#override OPT_CHDK_IN_EXMEM=1

PLATFORMID=12856

PLATFORMOS=dryos

MEMBASEADDR=0x1900
#RESTARTSTART=0x50000
RESTARTSTART=0x50000

ROMBASEADDR=0xFF000000
MAXRAMADDR=0x07FFFFFF
#EXMEM_BUFFER_SIZE=0xA0000  # now 256KB, 80000=512KB, C0000=768KB, 100000=1MB
#EXMEM_HEAP_SKIP=0x679800  # 0x48000000 - 0x47986800  @FF086CE0 - @FF086CE4


ifdef OPT_CHDK_IN_EXMEM
MEMISOSTART=0x78E67E0
#MEMISOSTART=(MAXRAMADDR +1-EXMEM_HEAP_SKIP-EXMEM_BUFFER_SIZE - 32)
else
MEMISOSTART=0x198C30    #Found at FF000154 SX40
endif


PLFLAGS=-DMEMBASEADDR=$(MEMBASEADDR) -DMEMISOSTART=$(MEMISOSTART) -DMEMISOSIZE=$(MEMISOSIZE)
PLFLAGS+=-DRESTARTSTART=$(RESTARTSTART)

NEED_ENCODED_DISKBOOT=7
KEYSYS=d4c


override OPT_EXMEM_MALLOC=1
override OPT_CHDK_IN_EXMEM=1

#PLATFORMID=0x3228
PLATFORMID=12840

PLATFORMOS=dryos

MEMBASEADDR=0x1900
RESTARTSTART=0x50000

ifdef OPT_CHDK_IN_EXMEM
#MEMISOSTART=0x78E67E0 # MAXRAMADDR+1 - EXMEM_HEAP_SKIP - EXMEM_BUFFER_SIZE - 32(0x20) (exmem allocates 64 bytes extra, 32 before and 32 after block allocated)
MEMISOSTART=0x78E67E0  # MAXRAMADDR+1 - EXMEM_HEAP_SKIP - EXMEM_BUFFER_SIZE - 32(0x20) (exmem allocates 64 bytes extra, 32 before and 32 after block allocated)
else
MEMISOSTART=0x18A7FC    #Found at FF00014C 
endif

ROMBASEADDR=0xFF000000

MAXRAMADDR=0x07FFFFFF  	# @FF086CE0 48000000 - 1
EXMEM_BUFFER_SIZE=0xA0000  # now 256KB, 80000=512KB, A0000 =654KB, C0000=768KB, 100000=1MB
EXMEM_HEAP_SKIP=0x679800  # 0x48000000 - 0x47986800  @FF086CE0 - @FF086CE4

PLFLAGS=-DMEMBASEADDR=$(MEMBASEADDR) -DMEMISOSTART=$(MEMISOSTART) -DMEMISOSIZE=$(MEMISOSIZE)
PLFLAGS+=-DRESTARTSTART=$(RESTARTSTART)

NEED_ENCODED_DISKBOOT=6
KEYSYS=d4c

